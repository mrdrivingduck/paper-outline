# Outline

## Empirical Evaluation of the Tarantula Automatic Fault-Localization Technique

Created by : Mr Dk.

2020 / 03 / 18 18:36

Ningbo, Zhejiang, China

---

## Abstract

è°ƒè¯•è½¯ä»¶æ˜¯ä¸€ä¸ªå¾ˆè€—æ—¶ã€å¾ˆè€—äººåŠ›çš„å·¥ä½œã€‚å› æ­¤ï¼Œå¢å¼ºå¯»æ‰¾ä»£ç ä¸­ç¼ºé™·ä½ç½®çš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿæ˜¾è‘—å‡å°‘è°ƒè¯•è½¯ä»¶çš„æˆæœ¬ã€‚ç›®å‰ï¼Œè½¯ä»¶å¼€å‘è€…ä½¿ç”¨ test case æ¥è¿›è¡Œäººå·¥çš„ç¼ºé™·å®šä½ - é€‰æ‹©ä¸€ä¸ªæ‰§è¡Œå¤±è´¥çš„ test caseï¼Œåœ¨è½¯ä»¶ä¸­ä¸æ–­åŠ  break pointï¼Œç›´åˆ°æ‰¾åˆ°å¼‚å¸¸çŠ¶æ€å‘ç”Ÿçš„ä½ç½®ã€‚å¾ˆå¤š research åœ¨ç ”ç©¶èƒ½å¤Ÿè‡ªåŠ¨åŒ–åœ°è¿›è¡Œç¼ºé™·å®šä½ã€‚

æœ¬æ–‡ç ”ç©¶äº†å·²æœ‰çš„å››ç§è‡ªåŠ¨åŒ–ç¼ºé™·å®šä½å’Œæœ¬æ–‡æå‡ºçš„ä¸€ç§å®šä½çš„åŸç†ï¼Œå¹¶è¯„ä¼°äº†å®ƒä»¬çš„æ•ˆæœã€‚ç»“æœæ˜¾ç¤ºæœ¬æ–‡æå‡ºçš„ _Tarantula_ åœ¨æ•ˆæœå’Œæ€§èƒ½ä¸Šéƒ½æ¯”å¦å¤–å››ç§å®šä½æ–¹æ³•æ›´å¥½ã€‚

## Fault-Localization Techniques Studied

### Tarantula

è¾“å…¥ï¼š

* æ¯ä¸€ä¸ª test case çš„ pass / fail æƒ…å†µ
* æ¯ä¸€ä¸ª test case æ‰§è¡Œåˆ°çš„ entity (statements / branches / methods)
* è¢«æµ‹è¯•çš„ç¨‹åº source code

ç›´è§‚åŸç†ï¼šä¸»è¦è¢«å¤±è´¥çš„ test case æ‰§è¡Œåˆ°çš„ entity æ¯”ä¸»è¦è¢«é€šè¿‡çš„ test case æ‰§è¡Œåˆ°çš„ entity æ›´å¯èƒ½åŒ…å«ç¼ºé™·ã€‚ä½†æ˜¯ä¹Ÿå…è®¸ä¸€äº›ç¼ºé™·ä»£ç å¶å°”è¢«é€šè¿‡çš„ test case æ‰§è¡Œåˆ°ã€‚è¿™ç§æ”¾å®½çš„æ¡ä»¶å¯èƒ½ä¼šæ›´åŠ æœ‰æ•ˆã€‚

_Tarantula_ ä¸ºæ¯ä¸€ä¸ª statement è®¡ç®—äº†ä¸€ä¸ªè‰²å½©å€¼ (å®é™…ä¸Šå°±æ˜¯ç¼ºé™·ç–‘ä¼¼åº¦ï¼Œåªä¸è¿‡ç”¨é¢œè‰²æ¥è¡¨ç¤ºæ›´å½¢è±¡äº›)ï¼Œé«˜åº¦ç–‘ä¼¼çš„ä¸ºçº¢è‰² (å±é™©)ï¼Œä¸å¤ªå¯èƒ½æœ‰ç¼ºé™·çš„ä¸ºç»¿è‰² (å®‰å…¨)ï¼Œä¸å¤ªç¡®å®šçš„ä¸ºé»„è‰²ã€‚è¿™ä¸ªè‰²å½©å€¼çš„è®¡ç®—å…¬å¼ä¸ºï¼š

<img src="../../img/tarantula-hue.png" alt="tarantula-hue" style="zoom:33%;" />

å…¶ä¸­ï¼Œ`s` ä»£è¡¨æŸä¸ª statementï¼Œ`passed(s)` è¡¨ç¤ºæ‰€æœ‰ pass çš„ test case ä¸­ï¼Œæ‰§è¡Œåˆ° `s` çš„ä¸ªæ•°ï¼›`failed(s)` è¡¨ç¤ºæ‰€æœ‰ fail çš„ test case ä¸­ï¼Œæ‰§è¡Œåˆ° `s` çš„ä¸ªæ•°ï¼›`totalpassed` å’Œ `totalfailed` åˆ†åˆ«ä»£è¡¨æ‰€æœ‰ pass / fail çš„ test case ä¸ªæ•°ã€‚

è¿™ä¸ª hue ä½äº 0 åˆ° 1 ä¹‹é—´ï¼Œä»£è¡¨äº† statement `s` çš„ç–‘ä¼¼åº¦ï¼Œè¶Šé è¿‘ 0 ç–‘ä¼¼åº¦è¶Šé«˜ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç”¨ 1 å‡å»è¿™ä¸ª hue æ¥ä½œä¸ºç–‘ä¼¼åº¦ã€‚è¿™æ ·æ•°å€¼è¶Šé«˜ï¼Œç–‘ä¼¼åº¦è¶Šé«˜ã€‚

å¯¹ test case èƒ½å¤Ÿè¦†ç›–åˆ°çš„ç¨‹åºä¸­çš„ entity è®¡ç®—ç–‘ä¼¼åº¦ï¼Œå¹¶è¿›è¡Œæ’åºã€‚ç–‘ä¼¼åº¦è¶Šé«˜çš„ entityï¼Œè¢«ç¨‹åºå‘˜æ£€æŸ¥çš„ä¼˜å…ˆçº§è¶Šé«˜ã€‚

<img src="../../img/tarantula-example.png" alt="tarantula-example" style="zoom: 50%;" />

ä»¥ä¸Šå›¾ä¸ºä¾‹ã€‚é»‘ç‚¹æ˜¯æ¯ä¸ª test case çš„ coverageã€‚å¯¹æ¯è¡Œ statement çš„ç–‘ä¼¼åº¦è¿›è¡Œè®¡ç®—ï¼Œå¹¶è¿›è¡Œæ’åï¼Œç–‘ä¼¼åº¦è¶Šé«˜æ’åè¶Šé å‰ã€‚å…¶ä¸­ï¼Œå¦‚æœæœ‰å¹¶åˆ—ç–‘ä¼¼å€¼ï¼Œé‚£ä¹ˆæ’åå°†ç»Ÿä¸€ä¸ºå¹¶åˆ—æ’åçš„æœ€é åå€¼ (æ¯”å¦‚ `1,2,3` åæœ‰å››ä¸ªå¹¶åˆ—å€¼ï¼Œé‚£ä¹ˆå®ƒä»¬çš„æ’åå°†ä¼šæ˜¯ `7,7,7,7`)ã€‚

### Set Union and Set Intersection

è®¡ç®—ä¸€ä¸ª pass test case å’Œä¸€ä¸ª fail test case ä¹‹é—´çš„ coverage å·®å¼‚ã€‚ä» fail test case çš„ coverage ä¸­ï¼Œåˆ æ‰ pass test case çš„ coverageï¼Œå‰©ä¸‹çš„å°±æ˜¯ç¼ºé™·æ‰€åœ¨çš„ entityã€‚ä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š

* Set-union - __æŸä¸€ä¸ª__ fail test case çš„ coverageï¼Œå‡å» __æ‰€æœ‰__ pass test case çš„ coverage çš„ __å¹¶é›†__
* Set-intersection - __æŸä¸€ä¸ª__ fail test case çš„ coverageï¼Œå‡å» __æ‰€æœ‰__ pass test case çš„ coverage çš„ __äº¤é›†__

å‰©ä¸‹çš„ entity é›†åˆï¼Œå°±æ˜¯ç¼ºé™·ä½ç½®å¯èƒ½æ€§æœ€é«˜çš„é›†åˆï¼Œå³ç¨‹åºå‘˜æœ€å¼€å§‹è¿›è¡Œç¼ºé™·æœç´¢çš„é›†åˆã€‚è¿™ä¸ªæ–¹æ³•æœ‰ç²¾ç¡®æ€§çš„é—®é¢˜ï¼Œé€šå¸¸å¾—åˆ°çš„è¿™ä¸ª coverage é›†åˆæ˜¯ä¸ªç©ºé›†ï¼Œä¹Ÿæœ‰å¯èƒ½ç¼ºé™·ä»£ç ä¸åœ¨è¿™ä¸ªé›†åˆä¸­ã€‚å¦‚æœè¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ªæ’åæœºåˆ¶ï¼Œæ¥æŒ‡å¼•ç¨‹åºå‘˜åœ¨å‰©ä¸‹çš„ä»£ç ä¸­æœç´¢ç¼ºé™·çš„ä¼˜å…ˆçº§ã€‚è¯¥æ€ä¹ˆè¿›è¡Œæ’åå‘¢ï¼Ÿ

_SDG-ranking (System Dependence Graph)_ - ä»åˆå§‹ entity é›†åˆå¼€å§‹ï¼Œä»¥å‰å‘æˆ–åå‘ä¸ºæ–¹å‘ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚æ‰€æœ‰è·ç¦»åˆå§‹é›†åˆè·ç¦»ç›¸åŒçš„ entity è¢«èµ‹äºˆå¹¶åˆ—çš„ rankï¼Œèµ‹äºˆæ–¹å¼ä¸ä¸Šä¸€ç§æ–¹æ³•ç±»ä¼¼ã€‚

è¿™ç§æ–¹æ³•ç»å¸¸è¡¨ç°å¾ˆå·®ï¼Œå› ä¸ºç»å¸¸ä¼šæŠŠå¸¦æœ‰ç¼ºé™·çš„ entity ç»™å‡æ‰äº†ï¼Œå‰©ä¸‹çš„ entity é›†åˆä¸­éƒ½æ˜¯ä¸å¸¦ç¼ºé™·çš„ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯ä¸å…è®¸ç¼ºé™·ä»£ç èƒ½å¤Ÿè¢« pass test case å’Œ fail test case åŒæ—¶æ‰§è¡Œåˆ°ã€‚è€Œ _tarantula_ åˆ™å…è®¸ç¼ºé™·ä»£ç è¢« pass test case å’Œ fail test case åŒæ—¶æ‰§è¡Œåˆ°ï¼Œå› ä¸ºæ•ˆæœä¼šæ›´å¥½ã€‚

### Nearest Neighbor

è§£å†³äº†ä¸Šä¸€ä¸ªæ–¹æ³•ä¸­æåˆ°çš„é—®é¢˜ã€‚è¿™ç§æ–¹æ³•é€‰æ‹©æ€§åœ°ä½¿ç”¨ __ä¸€ä¸ª__ pass test caseï¼Œåœ¨æŸä¸ª fail test case çš„ coverage ä¸­ï¼Œåˆ é™¤è¿™ä¸€ä¸ª pass test case çš„ coverageï¼Œä»è€Œå¾—åˆ°ä¸ä¸Šä¸€ç§æ–¹æ³•ç±»ä¼¼çš„åˆå§‹ entity é›†åˆï¼Œä¹‹åçš„æœå¯»é¦–å…ˆä»è¿™ä¸ªé›†åˆå¼€å§‹ã€‚å¦‚æœè¿™ä¸ªé›†åˆä¸ºç©ºï¼Œæˆ–ä¸å­˜åœ¨ç¼ºé™·ä»£ç ï¼Œé‚£ä¹ˆä¹Ÿä½¿ç”¨ _SDG-ranking_ çš„æ–¹å¼æ‰©å¤§æœç´¢èŒƒå›´ã€‚

è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒé—®é¢˜åœ¨äºï¼Œåº”è¯¥é€‰æ‹©å“ªä¸€ä¸ª pass test case å‘¢ï¼Ÿè¿™ç§æ–¹æ³•é€‰æ‹©çš„æ˜¯ coverage ä¸é‚£ä¸ª fail test case æœ€æ¥è¿‘çš„ pass test caseã€‚å†æ›´å…·ä½“ä¸€ç‚¹ï¼Œcoverage çš„æ¥è¿‘åˆè¢«åˆ†ä¸ºä¸¤ç±»ï¼š

1. binary distance - æ‰§è¡Œè¿‡çš„ statement
2. permutation distance - å¯¹æ¯ä¸€ä¸ª statement æˆ– basic block ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®°å½•è¢«æ‰§è¡Œçš„æ¬¡æ•°ï¼Œç„¶åè¿›è¡Œæ’åº (ç„¶åå’‹è®¡ç®—è·ç¦»æ²¡æœ‰çœ‹æ‡‚ ğŸ˜¥)

åœ¨é€‰ä¸­ä»»æ„ä¸€ä¸ª fail test case ä¹‹åï¼Œé€‰å‡ºæœ€ç›¸ä¼¼çš„ pass test caseï¼Œä½œå·®é›†åï¼Œå¾—åˆ°åˆå§‹ entity é›†åˆã€‚

### Cause Transitions

å¯¹äºå†…å­˜çŠ¶æ€è¿›è¡ŒäºŒåˆ†æœç´¢ã€‚å¯¹äºä¸€ä¸ª fail test case å’Œ pass test caseï¼Œäº¤æ¢éƒ¨åˆ†å†…å­˜çŠ¶æ€å¹¶ç»§ç»­è¿è¡Œï¼Œç›´åˆ°è¯†åˆ«åˆ°ç¼ºé™·ä½ç½®ã€‚

> ?

## Empirical Study

å”¯ä¸€çš„è‡ªå˜é‡æ˜¯ç¼ºé™·å®šä½æŠ€æœ¯ï¼Œå¯¹æ¯”ä»¥ä¸‹äº”ç§ï¼š

1. Set union
2. Set intersection
3. Nearest neighbor
4. Cause transitions
5. Tarantula

è¯„ä¼°ç›®æ ‡æ˜¯æœ‰æ•ˆæ€§å’Œæ•ˆç‡ã€‚è¯„ä¼°å¯¹è±¡ä¸º _Siemens suite_ çš„æ•°æ®é›†ã€‚

---

